---
import Card from '../ui/Card.astro';
import Pill from '../ui/Pill.astro';


interface Props {
  title: string;
  tag: string;
  meta: string;
  readingTime?: string;
  description: string;
  links: {
    label: string;
    url: string;
    icon?: string;
    disabled?: boolean;
    class?: string;
  }[];
}

const { title, tag, meta, readingTime, description, links } = Astro.props;
---

<Card variant="bordered" class="flex flex-col h-full bg-[rgba(17,24,39,0.02)] mb-4 group relative overflow-hidden">
  <div class="flex justify-between items-start mb-2 gap-2 relative z-10">
    <h3 class="text-[16px] font-bold leading-tight m-0 group-hover:text-accent transition-colors">{title}</h3>
    <Pill variant="accent" class="shrink-0">{tag}</Pill>
  </div>
  <div class="flex items-center gap-3 text-[13px] text-dim mb-3 opacity-90 relative z-10">
    <span>{meta}</span>
    {readingTime && (
      <>
        <span class="w-1 h-1 rounded-full bg-dim opacity-50"></span>
        <span class="flex items-center gap-1">
          <i class="fa-regular fa-clock text-xs"></i>
          {readingTime}
        </span>
      </>
    )}
  </div>
  
  <p class="text-[14px] text-dim flex-grow mb-4 leading-relaxed opacity-90">
    {description}
  </p>

  <div class="flex flex-wrap gap-2 mt-auto pt-3 border-t border-[var(--glass-border)]">
    {links.map(link => (
      <a 
        href={link.url}
        class:list={[
          "text-xs font-bold transition-colors inline-flex items-center",
          link.disabled ? "opacity-50 cursor-not-allowed text-dim" : "text-accent hover:text-white"
        ]}
        aria-disabled={link.disabled}
      >
        {link.icon && <i class:list={[link.icon, "mr-1.5"]}></i>} {link.label}
      </a>
    ))}
  </div>
</Card>

