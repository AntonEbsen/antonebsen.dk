---
import Card from '../ui/Card.astro';
import Pill from '../ui/Pill.astro';
import Button from '../ui/Button.astro';

interface Props {
  title: string;
  tag: string;
  reason: string;
  description: string;
  links?: {
    label: string;
    url: string;
    icon?: string;
    disabled?: boolean;
    class?: string;
  }[];
}

const { title, tag, reason, description, links } = Astro.props;
---

<Card variant="bordered" class="flex flex-col h-full bg-[rgba(17,24,39,0.02)]!">
  <div class="flex justify-between items-start mb-2 gap-2">
    <h3 class="text-[16px] font-bold leading-tight m-0">{title}</h3>
    <Pill variant="accent" class="shrink-0">{tag}</Pill>
  </div>
  
  <div class="mb-3">
    <strong class="text-[var(--accent)] text-xs uppercase tracking-wide block mb-1">Hvorfor jeg h√∏rer den:</strong>
    <p class="text-[14px] text-[var(--text-dim)] m-0 leading-relaxed">{reason}</p>
  </div>

  <div class="mb-4 flex-grow">
    <strong class="text-[var(--text-dim)] text-xs uppercase tracking-wide block mb-1 opacity-70">Beskrivelse:</strong>
    <p class="text-[13px] text-[var(--text-dim)] m-0 opacity-80 leading-relaxed">{description}</p>
  </div>

  {links && (
    <div class="flex flex-wrap gap-2 mt-auto pt-3 border-t border-[var(--glass-border)]">
      {links.map(link => (
        <a 
          href={link.url}
          class:list={[
            "text-xs font-bold transition-colors inline-flex items-center",
            link.disabled ? "opacity-50 cursor-not-allowed text-[var(--text-dim)]" : "text-[var(--accent)] hover:text-white"
          ]}
          aria-disabled={link.disabled}
        >
          {link.icon && <i class:list={[link.icon, "mr-1.5"]}></i>} {link.label}
        </a>
      ))}
    </div>
  )}
</Card>

