---
import ExerciseDetailPage from '@components/templates/ExerciseDetailPage.astro';
import { getCollection } from 'astro:content';

export const prerender = true;

export async function getStaticPaths() {
  const exercises = await getCollection('exercises');
  return exercises
    .filter(entry => entry.id.startsWith('en/'))
    .map(entry => {
      const slug = entry.id.replace(/^en\//, '');
      return {
        params: { slug },
        props: { entry },
      };
    });
}

const { entry } = Astro.props;
---
<ExerciseDetailPage entry={entry} />
