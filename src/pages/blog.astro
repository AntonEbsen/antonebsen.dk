---
import Layout from '@layouts/Layout.astro';
import Pill from '@components/ui/Pill.astro';
import Section from '@components/ui/Section.astro';
import Card from '@components/ui/Card.astro';
import Button from '@components/ui/Button.astro';
import BlogCard from '@components/blog/BlogCard.astro';
import blogData from '@data/blog.json';
---

<Layout 
  title="Anton Meier Ebsen Jørgensen – Blog" 
  description="Blog med indlæg om faglige emner, træning og rejser."
  bodyClass="blog-page"
>

  <style>
    .blog-wrap { 
      max-width: 1200px; 
      margin: 24px auto; 
      padding: 0 16px 32px; 
    }

    .hero {
      display: grid; 
      grid-template-columns: minmax(0, 1.6fr) minmax(0, 1fr);
      gap: 22px; 
      align-items: start; 
    }

    .grid {
      display: grid; 
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 14px; 
      margin-top: 14px;
    }

    @media (max-width: 980px) {
      .hero { 
        grid-template-columns: 1fr; 
      }
      .grid { 
        grid-template-columns: 1fr; 
      }
    }
  </style>

  <main class="blog-wrap">

    <!-- HERO -->
    <Section>
      <div class="hero">
        <Card variant="glass" class="p-8">
          <p class="text-xs font-extrabold uppercase tracking-widest text-[var(--text-dim)] mb-3">Blog</p>
          <h1 class="text-[clamp(28px,4vw,40px)] leading-[1.15] mb-5 font-bold">Indlæg og noter</h1>
          <p class="text-[17px] leading-relaxed text-[var(--text-dim)] mb-6 opacity-90">
            Tre spor: <strong>Fagligt</strong> (økonomi, data, modeller), <strong>Træning</strong> (struktur og progression)
            og <strong>Rejser</strong> (vandring, ruter og praktiske erfaringer).
          </p>
  
          <div class="flex flex-wrap gap-3 mb-6">
            <Button href="#cat-fagligt">Fagligt</Button>
            <Button href="#cat-traening" variant="ghost">Træning</Button>
            <Button href="#cat-rejser" variant="ghost">Rejser</Button>
          </div>
  
          <div class="flex flex-wrap gap-2">
            <a href="#cat-fagligt" class="no-underline"><Pill variant="accent" class="hover:bg-[var(--accent)] hover:text-white transition-colors">Fagligt</Pill></a>
            <a href="#cat-traening" class="no-underline"><Pill variant="accent" class="hover:bg-[var(--accent)] hover:text-white transition-colors">Træning</Pill></a>
            <a href="#cat-rejser" class="no-underline"><Pill variant="accent" class="hover:bg-[var(--accent)] hover:text-white transition-colors">Rejser</Pill></a>
          </div>
        </Card>
  
        <div class="hidden md:block">
          <Card variant="glass" class="p-6">
            <h2 class="text-xs font-bold uppercase tracking-wider text-[var(--accent)] mb-4">Seneste</h2>
            <p class="text-[var(--text-dim)] opacity-80 m-0">
              Nye indlæg kommer løbende. (Pro tip: når du har 10+ posts, kan vi lave et rigtigt filter.)
            </p>
          </Card>
        </div>
      </div>
    </Section>

    <!-- ===================== -->
    <!-- KATEGORI: FAGLIGT -->
    <!-- ===================== -->
    <Section id="cat-fagligt" aria-label="Fagligt">
      <div class="flex flex-wrap items-baseline justify-between gap-2 mb-4">
        <h2 class="m-0 text-xl font-bold">Fagligt</h2>
        <p class="m-0 text-[var(--text-dim)] text-sm opacity-80">Økonomi, data, modeller, økonometri og værktøjer.</p>
      </div>

      <div class="grid">
        {blogData.academic.map(post => (
            <BlogCard 
              title={post.title}
              tag={post.tag}
              meta={post.meta}
              description={post.description}
              links={post.links}
            />
        ))}
      </div>
    </Section>

    <!-- ===================== -->
    <!-- KATEGORI: TRÆNING -->
    <!-- ===================== -->
    <Section id="cat-traening" aria-label="Træning">
      <div class="flex flex-wrap items-baseline justify-between gap-2 mb-4">
        <h2 class="m-0 text-xl font-bold">Træning</h2>
        <p class="m-0 text-[var(--text-dim)] text-sm opacity-80">Rutiner, progression, og hvad der faktisk virker i praksis.</p>
      </div>

      <div class="grid">
        {blogData.training.map(post => (
           <BlogCard 
             title={post.title}
             tag={post.tag}
             meta={post.meta}
             description={post.description}
             links={post.links}
           />
       ))}
      </div>
    </Section>

    <!-- ===================== -->
    <!-- KATEGORI: REJSER -->
    <!-- ===================== -->
    <Section id="cat-rejser" aria-label="Rejser">
      <div class="flex flex-wrap items-baseline justify-between gap-2 mb-4">
        <h2 class="m-0 text-xl font-bold">Rejser</h2>
        <p class="m-0 text-[var(--text-dim)] text-sm opacity-80">Vandring, ruter, planlægning og erfaringer fra turene.</p>
      </div>

      <div class="grid">
        {blogData.travel.map(post => (
           <BlogCard 
             title={post.title}
             tag={post.tag}
             meta={post.meta}
             description={post.description}
             links={post.links}
           />
       ))}
      </div>
    </Section>

    <!-- CTA -->
    <Section>
      <Card variant="glass" class="p-6">
        <h2 class="text-xs font-bold uppercase tracking-wider text-[var(--accent)] mb-4">Forslag til indlæg?</h2>
        <p class="text-[var(--text-dim)] opacity-80 mb-6">
          Hvis du har et emne, du gerne vil have mig til at skrive om, så skriv endelig.
        </p>
        <div class="flex flex-wrap gap-3">
          <Button href="mailto:anton.ebsen@gmail.com">Send en mail</Button>
          <Button href="/contact" variant="ghost">Kontakt-side</Button>
        </div>
      </Card>
    </Section>

  </main>
</Layout>
