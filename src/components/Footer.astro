---
import siteData from '../data/site.json';
const { footer } = siteData;
const year = new Date().getFullYear();
---

<footer class="site-footer" role="contentinfo">
  <div class="footer-container">

    <div class="footer-top">
      <!-- Brand / kort pitch -->
      <section class="footer-col footer-brand" aria-label="Om siden">
        <h2 class="footer-title">{footer.brand.title}</h2>
        <p class="footer-text">
          {footer.brand.text}
        </p>

        <div class="footer-cta">
          <a class="footer-btn" href="/cv">
            <i class="fa-solid fa-file-lines" aria-hidden="true"></i> CV
          </a>
          <a class="footer-btn footer-btn-ghost" href="/assets/Anton-CV.pdf" target="_blank" rel="noopener">
            <i class="fa-solid fa-download" aria-hidden="true"></i> Download PDF
          </a>
        </div>
      </section>

      <!-- Navigation -->
      <nav class="footer-col" aria-label="Footer navigation">
        <h3 class="footer-title-sm">Navigation</h3>
        <ul class="footer-list">
          {footer.links.map(link => (
            <li><a href={link.url}>{link.label}</a></li>
          ))}
        </ul>
      </nav>

      <!-- Udvalgte sider -->
      <nav class="footer-col" aria-label="Udvalgte sider">
        <h3 class="footer-title-sm">Udvalgte sider</h3>
        <ul class="footer-list">
          {footer.selected.map(link => (
            <li><a href={link.url}>{link.label}</a></li>
          ))}
        </ul>
      </nav>

      <!-- Kontakt + SoMe -->
      <section class="footer-col footer-contact" aria-label="Kontakt og profiler">
        <h3 class="footer-title-sm">Kontakt</h3>

        <address class="footer-text footer-address">
          <div class="footer-address-row">
            <span class="footer-kicker">Email</span><br>
            <a href={`mailto:${footer.contact.email}`}>{footer.contact.email}</a>
          </div>

          <div class="footer-address-row">
            <span class="footer-kicker">Telefon</span><br>
            <a href={`tel:${footer.contact.phone.replace(/ /g,'')}`}>{footer.contact.phone}</a>
          </div>

          <div class="footer-address-row">
            <span class="footer-kicker">Lokation</span><br>
            København, DK
          </div>
        </address>

        <div class="footer-social" aria-label="Sociale links">
          <a href={footer.contact.linkedin} target="_blank" rel="noopener" aria-label="LinkedIn">
            <i class="fa-brands fa-linkedin" aria-hidden="true"></i>
          </a>
          <a href={footer.contact.github} target="_blank" rel="noopener" aria-label="GitHub">
            <i class="fa-brands fa-github" aria-hidden="true"></i>
          </a>
        </div>
      </section>
    </div>

    <div class="footer-bottom">
      <nav class="footer-legal" aria-label="Juridiske sider">
         {footer.legal.map((link, index) => (
           <>
            <a href={link.url}>{link.label}</a>
            {index < footer.legal.length - 1 && <span aria-hidden="true">·</span>}
           </>
         ))}
      </nav>

      <p class="footer-copy">
        &copy; {year} Anton Meier Ebsen Jørgensen. Alle rettigheder forbeholdes.
        <span class="footer-copy-muted">Kildekode:
          <a href="https://github.com/AntonEbsen/antonebsen.dk" target="_blank" rel="noopener">GitHub</a>.
        </span>
      </p>
    </div>

  </div>
</footer>
