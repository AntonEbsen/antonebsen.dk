---
import Card from '@components/ui/Card.astro';
import Button from '@components/ui/Button.astro';
import type { Podcast } from 'src/lib/api';

interface Props {
  podcast: Podcast;
  labels: {
    listenBtn: string;
  };
}

const { podcast, labels } = Astro.props;
---

<Card variant="glass" class="p-6 border border-purple-900/30 hover:border-purple-500/50 transition-all group relative overflow-hidden">
    <div class="absolute -right-6 -top-6 w-24 h-24 bg-purple-600/10 rounded-full blur-2xl group-hover:bg-purple-600/20 transition-all"></div>
    
    <div class="relative z-10 flex flex-col h-full">
        <div class="flex justify-between items-start mb-2">
            <span class="text-xs font-bold text-purple-400 uppercase tracking-widest">{podcast.host}</span>
            {podcast.rating === 5 && <i class="fa-solid fa-star text-yellow-500 text-xs shadow-glow"></i>}
        </div>

        <h3 class="text-xl font-bold mb-2 text-white group-hover:text-purple-300 transition-colors">
            {podcast.title}
        </h3>

        {podcast.notes && (
            <p class="text-dim text-sm mb-6 flex-grow italic opacity-80">
                "{podcast.notes}"
            </p>
        )}

        <div class="mt-auto">
            <Button href={podcast.url || '#'} variant="ghost" class="w-full justify-center text-sm py-2 hover:bg-purple-600/20">
                <i class="fa-solid fa-headphones mr-2"></i> {labels.listenBtn}
            </Button>
        </div>
    </div>
</Card>
