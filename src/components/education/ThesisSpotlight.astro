---
import Card from '@components/ui/Card.astro';
import Button from '@components/ui/Button.astro';
import Pill from '@components/ui/Pill.astro';

interface Props {
  title: string;
  subtitle: string;
  description: string;
  tags: string[];
  downloadLink: string;
  codeLink?: string;
  image?: string;
}

const { title, subtitle, description, tags, downloadLink, codeLink, image } = Astro.props;
---

<div class="thesis-spotlight relative group">
    <div class="absolute -inset-1 bg-gradient-to-r from-accent/20 to-purple-500/20 rounded-2xl blur opacity-25 group-hover:opacity-100 transition duration-1000 group-hover:duration-200"></div>
    
    <Card variant="default" class="relative p-0 overflow-hidden flex flex-col md:flex-row">
        <div class="p-8 flex-1 flex flex-col justify-center relative z-10">
            <div class="inline-flex items-center gap-2 mb-4">
                <span class="w-2 h-2 rounded-full bg-accent animate-pulse"></span>
                <span class="text-xs font-bold uppercase tracking-widest text-accent">Master's Thesis</span>
            </div>
            
            <h2 class="text-2xl md:text-3xl font-extrabold mb-2 leading-tight">{title}</h2>
            <p class="text-lg text-dim mb-6 font-medium">{subtitle}</p>
            
            <div class="flex flex-wrap gap-2 mb-6">
                {tags.map(tag => <Pill variant="default" class="bg-white/5 border-white/10">{tag}</Pill>)}
            </div>

            <p class="text-dim leading-relaxed mb-8 max-w-xl">
                {description}
            </p>

            <div class="flex flex-wrap gap-4">
                <Button href={downloadLink}><i class="fa-solid fa-file-pdf mr-2"></i> Download PDF</Button>
                {codeLink && (
                    <Button href={codeLink} variant="ghost"><i class="fa-solid fa-code mr-2"></i> View Code</Button>
                )}
            </div>
        </div>

        {image && (
             <div class="relative w-full md:w-1/3 min-h-[300px] md:min-h-0 bg-black/20 overflow-hidden">
                <img 
                    src={image} 
                    alt="Thesis Visualization" 
                    class="absolute inset-0 w-full h-full object-cover opacity-80 mix-blend-overlay hover:scale-105 transition-transform duration-700" 
                />
                <div class="absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent md:bg-gradient-to-l"></div>
            </div>
        )}
    </Card>
</div>
