---
import Card from '../ui/Card.astro';
import Pill from '../ui/Pill.astro';
import Button from '../ui/Button.astro';

interface Props {
  title: string;
  tags?: string[];
  tagString?: string;
  description: string;
  tools?: string;
  output?: string;
  links?: {
    label: string;
    url: string;
    disabled?: boolean;
  }[];
}

const { title, tags, tagString, description, tools, output, links } = Astro.props;
---

<Card variant="bordered" class="flex flex-col h-full bg-[rgba(17,24,39,0.02)]!">
  <div class="flex justify-between items-start mb-2 gap-2">
    <h2 class="text-[16px] font-bold leading-tight m-0">{title}</h2>
    {tagString && <Pill variant="accent" class="shrink-0">{tagString}</Pill>}
  </div>

  <p class="text-[14px] text-[var(--text-dim)] flex-grow mb-4 leading-relaxed opacity-90">
    {description}
  </p>
  
  <div class="flex flex-col gap-1 mb-4 text-[13px] text-[var(--text-dim)]">
    {tools && <span><strong class="text-[var(--text)]">Værktøjer:</strong> {tools}</span>}
    {output && <span><strong class="text-[var(--text)]">Output:</strong> {output}</span>}
  </div>

  {links && (
    <div class="flex flex-wrap gap-2 mt-auto pt-3 border-t border-[var(--glass-border)]">
      {links.map(link => (
        <a 
          href={link.url}
          class:list={[
            "text-xs font-bold transition-colors inline-flex items-center",
            link.disabled ? "opacity-50 cursor-not-allowed text-[var(--text-dim)]" : "text-[var(--accent)] hover:text-white"
          ]}
          aria-disabled={link.disabled}
        >
          {link.label}
        </a>
      ))}
    </div>
  )}
</Card>
