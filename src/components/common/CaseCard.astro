---
import Card from '@components/ui/Card.astro';
import Pill from '@components/ui/Pill.astro';
import Button from '@components/ui/Button.astro';
import type { CaseItem } from 'src/types/content';

// Basic Interface matching the structure in CasesPage
interface Props {
  data: CaseItem;
  labels: {
    problem: string;
    data: string;
    method: string;
    result: string;
    role: string;
    tools: string;
    report: string;
    code: string;
    viewStudy: string;
  };
}

const { data: c, labels } = Astro.props;
---

<Card variant="glass" class="p-8 mb-4 border-2 border-glass-border" id={c.id}>
    <div class="flex flex-wrap items-start justify-between gap-2 mb-2">
    <h2 class="text-xl font-bold leading-tight">{c.title}</h2>
    <span class="text-xs font-bold px-3 py-1 rounded-full border border-glass-border bg-glass whitespace-nowrap">{c.pill}</span>
    </div>

    <p class="text-dim opacity-70 mb-4">
    {c.desc}
    </p>

    <div class="case-body">
    <div class="border border-glass-border rounded-xl p-4 bg-[rgba(255,255,255,0.02)]">
        <h3 class="font-bold mb-2 text-sm">{labels.problem}</h3>
        <p class="text-sm text-dim">{c.problem}</p>
    </div>

    <div class="border border-glass-border rounded-xl p-4 bg-[rgba(255,255,255,0.02)]">
        <h3 class="font-bold mb-2 text-sm">{labels.data}</h3>
        <ul class="list-none p-0 pl-4 space-y-1 text-sm text-dim">
        {c.data.map((i: any) => <li>{i}</li>)}
        </ul>
    </div>

    <div class="border border-glass-border rounded-xl p-4 bg-[rgba(255,255,255,0.02)]">
        <h3 class="font-bold mb-2 text-sm">{labels.method}</h3>
        <ul class="list-none p-0 pl-4 space-y-1 text-sm text-dim">
        {c.method.map((i: any) => <li>{i}</li>)}
        </ul>
    </div>

    <div class="border border-glass-border rounded-xl p-4 bg-[rgba(255,255,255,0.02)]">
        <h3 class="font-bold mb-2 text-sm">{labels.result}</h3>
        <ul class="list-none p-0 pl-4 space-y-1 text-sm text-dim">
        {c.result.map((i: any) => <li>{i}</li>)}
        </ul>
    </div>

    <div class="border border-glass-border rounded-xl p-4 bg-[rgba(255,255,255,0.02)]">
        <h3 class="font-bold mb-2 text-sm">{labels.role}</h3>
        <ul class="list-none p-0 pl-4 space-y-1 text-sm text-dim">
        {c.role.map((i: any) => <li>{i}</li>)}
        </ul>
    </div>

    <div class="border border-glass-border rounded-xl p-4 bg-[rgba(255,255,255,0.02)]">
        <h3 class="font-bold mb-2 text-sm">{labels.tools}</h3>
        <div class="flex flex-wrap gap-2">
        {c.tools.map((tool: any) => <Pill variant="accent">{tool}</Pill>)}
        </div>
    </div>
    </div>

    <div class="flex flex-wrap gap-3 mt-4">
    {(c.id === 'case-gfc' || c.id === 'case-ecb' || c.id === 'case-sop' || c.id === 'case-erd') && (
      <Button 
        href={
          c.id === 'case-gfc' ? (c.lang === 'en' ? '/en/projects/global-financial-cycle' : '/projects/global-financial-cycle') :
          c.id === 'case-ecb' ? (c.lang === 'en' ? '/en/projects/ecb-taylor-rules' : '/projects/ecb-taylor-rules') :
          c.id === 'case-sop' ? (c.lang === 'en' ? '/en/projects/future-monetary-system' : '/projects/future-monetary-system') :
          c.id === 'case-erd' ? (c.lang === 'en' ? '/en/projects/exchange-rate-dynamics' : '/projects/exchange-rate-dynamics') : '#'
        } 
        variant="accent"
      >
        {labels.viewStudy}
      </Button>
    )}
    <Button href="#" variant="ghost">{labels.report}</Button>
    <Button href="#" variant="ghost">{labels.code}</Button>
    </div>
</Card>
