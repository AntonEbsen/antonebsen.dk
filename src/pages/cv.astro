---
import Layout from '../layouts/Layout.astro';
import Section from '../components/common/Section.astro';
import ExperienceItem from '../components/cv/ExperienceItem.astro';
import EducationItem from '../components/cv/EducationItem.astro';

import experienceData from '../data/experience.json';
import educationData from '../data/education.json';
import skillsData from '../data/skills.json';
import projectsData from '../data/projects.json';

import '../styles/cv.css';
---

<Layout 
  title="Anton Meier Ebsen Jørgensen – CV" 
  description="CV: Anton Meier Ebsen Jørgensen – økonomistuderende med fokus på makroøkonomi, økonometri og økonomiske modeller."
  bodyClass="cv-page"
>
  <!-- TOC -->
    <aside class="toc" id="toc" aria-label="Indholdsfortegnelse">
      <div class="toc-header">
        <button
          id="tocToggle"
          class="toc-toggle"
          type="button"
          aria-expanded="true"
          aria-controls="tocNav"
          aria-label="Vis/skjul indholdsfortegnelse"
          title="Vis/skjul indholdsfortegnelse"
        >
          <span class="hamburger" aria-hidden="true"></span>
        </button>
      </div>

      <nav id="tocNav" class="toc-nav">
        <a href="#profile">Profil</a>
        <a href="#experience">Erhvervserfaring</a>
        <a href="#education">Uddannelse</a>
        <a href="#projects">Projekter</a>
        <a href="#skills">Kompetencer</a>
        <a href="#languages">Sprog</a>
        <a href="#volunteer">Frivilligt</a>
        <a href="#certifications">Certificeringer</a>
        <a href="#contact">Kontakt</a>
      </nav>
    </aside>

    <!-- CV grid -->
    <section class="cv-grid" aria-label="CV indhold">

      <!-- Sidebar -->
      <aside class="cv-side">
        <div class="card profile-card">
          <img src="/assets/img/billede-af-mig.jpg" alt="Anton Meier Ebsen Jørgensen" class="profile-img">

          <div class="profile-head">
            <h1>Anton Meier Ebsen Jørgensen</h1>
            <p class="subtitle">Økonomistuderende (cand.polit.) · Makroøkonomi · Økonometri · Økonomiske modeller</p>
          </div>

          <div class="meta">
            <div class="meta-row">
              <span class="meta-label">Lokation</span>
              <span class="meta-value">
                <a href="https://www.google.com/maps/search/?api=1&query=K%C3%B8benhavn" target="_blank" rel="noopener">København</a>
              </span>
            </div>

            <div class="meta-row">
              <span class="meta-label">Email</span>
              <span class="meta-value"><a href="mailto:anton.ebsen@gmail.com">anton.ebsen@gmail.com</a></span>
            </div>

            <div class="meta-row">
              <span class="meta-label">Telefon</span>
              <span class="meta-value"><a href="tel:+4525740131">+45 25 74 01 31</a></span>
            </div>

            <!-- Ikoner i stedet for tekst-rows -->
            <div class="meta-row">
              <span class="meta-label">Profiler</span>
              <span class="meta-value icon-links" aria-label="Profiler">
                <a class="icon-link" href="https://www.linkedin.com/in/antonebsen/" target="_blank" rel="noopener" aria-label="LinkedIn">
                  <i class="fa-brands fa-linkedin" aria-hidden="true"></i>
                </a>
                <a class="icon-link" href="https://github.com/AntonEbsen" target="_blank" rel="noopener" aria-label="GitHub">
                  <i class="fa-brands fa-github" aria-hidden="true"></i>
                </a>
              </span>
            </div>
          </div>

          <div class="cta-row">
            <a class="btn" href="/assets/Anton-CV.pdf" target="_blank" rel="noopener">
              <i class="fa-solid fa-download" aria-hidden="true"></i> Download CV (PDF)
            </a>
          </div>
        </div>

        <div class="card" id="skills">
          <h2>Kompetencer</h2>
          <h3>Faglige kompetencer</h3>
          <div class="focus-grid" aria-label="Faglige kompetencer">
            {skillsData.professional.map(skill => (
              <a class="focus-box" href={`/skills#${skill.id}`} title={skill.title}>
                <i class={skill.icon} aria-hidden="true"></i>
                <span>{skill.name}</span>
              </a>
            ))}
          </div>

          <hr class="divider">
          <h3>Programmeringssprog</h3>
          <div class="skills-grid" aria-label="Programmeringssprog">
            {skillsData.programming.map(skill => (
              <a class="skill-box" href={`/skills#${skill.id}`} title={skill.title}>
                <i class={skill.icon} aria-hidden="true"></i>
                <span>{skill.name}</span>
              </a>
            ))}
          </div>
        
          <hr class="divider">
        
          <h3>Fokusområder</h3>
          
          <div class="focus-grid" aria-label="Fokusområder">
            {skillsData.focus.map(skill => (
              <div class="focus-box">
                <i class={skill.icon} aria-hidden="true"></i>
                <span>{skill.name}</span>
              </div>
            ))}
          </div>

          <hr class="divider">

          <div class="lang-grid" aria-label="Sprog">
            {skillsData.languages.map(lang => (
              <div class="lang-box">
                <img src={lang.flag} alt="" class="lang-flag-sm" aria-hidden="true">
                <div class="lang-text">
                  <div class="lang-name">{lang.name}</div>
                  <div class="lang-level">{lang.level}</div>
                </div>
              </div>
            ))}
          </div>
        </div>
      </aside>

      <!-- Main content -->
      <div class="cv-main">

        <Section id="profile" title="Profil">
          <p>
            Engageret økonomistuderende på kandidatuddannelsen ved Københavns Universitet med særligt fokus på
            makroøkonomi, økonometri og økonomiske modeller. Jeg har erfaring med programmering og databehandling
            gennem kurser i Python, tidsrækkemodeller (SAS) og CGE-modeller, samt undervisning i Excel og VBA.
          </p>
          <p>
            Jeg trives med at arbejde med tal og komplekse datasæt og med at omsætte analyser til resultater, der kan
            bruges som solidt grundlag for beslutninger.
          </p>
        </Section>

        <Section id="experience" title="Erhvervserfaring">
          {experienceData.map(item => (
            <ExperienceItem 
              title={item.title} 
              organization={item.organization} 
              location={item.location} 
              period={item.period}
            >
              <ul>
                {item.bullets.map(bullet => <li>{bullet}</li>)}
              </ul>
            </ExperienceItem>
          ))}
        </Section>

        <Section id="education" title="Uddannelse">
          {educationData.map(item => (
            <EducationItem
              degree={item.degree}
              institution={item.institution}
              location={item.location}
              period={item.period}
            >
              {item.description && <p class="muted">{item.description}</p>}
              {item.projects && (
                <details class="details">
                  <summary>Udvalgte projekter (klik)</summary>
                  <ul class="clean-list">
                    {item.projects.map(project => (
                      <li><strong>{project.label}:</strong> {project.title}</li>
                    ))}
                  </ul>
                </details>
              )}
            </EducationItem>
          ))}
        </Section>

        <Section id="projects" title="Projekter">
          {projectsData.map(project => (
            <article class="item">
              <div class="item-head">
                <h3>{project.title}</h3>
                <span class="item-meta">{project.meta}</span>
              </div>
              <p class="muted">
                {project.description}
              </p>
            </article>
          ))}
        </Section>

        <Section id="volunteer" title="Frivilligt">
           <ExperienceItem 
              title="Forperson" 
              organization="Socialøkonomisk Samfund" 
              location="København K" 
              period="2024 – nu"
            >
              <p class="muted">Planlægning/koordinering af aktiviteter og arrangementer.</p>
            </ExperienceItem>
        </Section>

        <Section id="certifications" title="Certificeringer">
          <div class="cert-grid">
            <div class="cert">
              <a href="https://matlabacademy.mathworks.com/progress/share/certificate.html?id=a59d5c1b-8002-4e13-88a7-b7631f99fecd&" target="_blank" rel="noopener">
                <img src="/assets/img/matlab-onramp.PNG" alt="MATLAB Onramp certifikat" class="cert-img">
              </a>
              <h3>
                <a href="https://matlabacademy.mathworks.com/progress/share/certificate.html?id=a59d5c1b-8002-4e13-88a7-b7631f99fecd&" target="_blank" rel="noopener">
                  MATLAB Onramp
                </a>
              </h3>
              <p class="muted">MATLAB fundamentals og workflows.</p>
            </div>

            <div class="cert">
              <a href="https://matlabacademy.mathworks.com/progress/share/certificate.html?id=0f239f13-05d3-4633-9f7a-889fa81448f5&" target="_blank" rel="noopener">
                <img src="/assets/img/calculations-with-vectors-and-matrices.PNG" alt="Vectors & Matrices certifikat" class="cert-img">
              </a>
              <h3>
                <a href="https://matlabacademy.mathworks.com/progress/share/certificate.html?id=0f239f13-05d3-4633-9f7a-889fa81448f5&" target="_blank" rel="noopener">
                  Calculations with Vectors and Matrices
                </a>
              </h3>
              <p class="muted">Lineær algebra i praksis.</p>
            </div>
          </div>
        </Section>

        <Section id="contact" title="Kontakt">
          <div class="contact-row">
            <a class="btn ghost" href="mailto:anton.ebsen@gmail.com">
              <i class="fa-solid fa-envelope" aria-hidden="true"></i>
              <span class="sr-only">Email</span>
              anton.ebsen@gmail.com
            </a>

            <a class="btn ghost" href="https://www.linkedin.com/in/antonebsen/" target="_blank" rel="noopener" aria-label="LinkedIn">
              <i class="fa-brands fa-linkedin" aria-hidden="true"></i>
              <span class="sr-only">LinkedIn</span>
            </a>

            <a class="btn ghost" href="https://github.com/AntonEbsen" target="_blank" rel="noopener" aria-label="GitHub">
              <i class="fa-brands fa-github" aria-hidden="true"></i>
              <span class="sr-only">GitHub</span>
            </a>
          </div>
        </Section>
      </div>
    </section>

  <!-- TOC toggle script -->
  <script>
    (function () {
      const wrap = document.querySelector(".cv-wrap");
      const btn = document.getElementById("tocToggle");
      if (!wrap || !btn) return;

      function applyFromStorage() {
        const collapsed = localStorage.getItem("tocCollapsed") === "1";
        wrap.classList.toggle("is-toc-collapsed", collapsed);
        btn.setAttribute("aria-expanded", String(!collapsed));
      }

      btn.addEventListener("click", function () {
        const nowCollapsed = wrap.classList.toggle("is-toc-collapsed");
        btn.setAttribute("aria-expanded", String(!nowCollapsed));
        localStorage.setItem("tocCollapsed", nowCollapsed ? "1" : "0");
      });

      document.addEventListener("DOMContentLoaded", applyFromStorage);
    })();
  </script>
</Layout>
