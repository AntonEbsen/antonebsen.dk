---
import Layout from '../layouts/Layout.astro';
import Pill from '../components/common/Pill.astro';
import Section from '../components/common/Section.astro';
import BlogCard from '../components/blog/BlogCard.astro';
import blogData from '../data/blog.json';
import '../styles/blog.css';
---

<Layout 
  title="Anton Meier Ebsen Jørgensen – Blog" 
  description="Blog med indlæg om faglige emner, træning og rejser."
  bodyClass="blog-page"
>

  <main class="blog-wrap">

    <!-- HERO -->
    <Section class="card hero">
      <div>
        <p class="eyebrow">Blog</p>
        <h1>Indlæg og noter</h1>
        <p class="lead">
          Tre spor: <strong>Fagligt</strong> (økonomi, data, modeller), <strong>Træning</strong> (struktur og progression)
          og <strong>Rejser</strong> (vandring, ruter og praktiske erfaringer).
        </p>

        <div class="cta">
          <a class="btn" href="#cat-fagligt">Fagligt</a>
          <a class="btn ghost" href="#cat-traening">Træning</a>
          <a class="btn ghost" href="#cat-rejser">Rejser</a>
        </div>

        <div class="pill-wrap" aria-label="Kategorier">
          <a class="pill-link" href="#cat-fagligt"><Pill text="Fagligt" /></a>
          <a class="pill-link" href="#cat-traening"><Pill text="Træning" /></a>
          <a class="pill-link" href="#cat-rejser"><Pill text="Rejser" /></a>
        </div>
      </div>

      <div class="hero-side">
        <div class="mini-card">
          <h2 class="section-title">Seneste</h2>
          <p class="muted" style="margin:0;">
            Nye indlæg kommer løbende. (Pro tip: når du har 10+ posts, kan vi lave et rigtigt filter.)
          </p>
        </div>
      </div>
    </Section>

    <!-- ===================== -->
    <!-- KATEGORI: FAGLIGT -->
    <!-- ===================== -->
    <section class="cat" id="cat-fagligt" aria-label="Fagligt">
      <div class="cat-head">
        <h2 class="cat-title">Fagligt</h2>
        <p class="muted cat-subtitle">Økonomi, data, modeller, økonometri og værktøjer.</p>
      </div>

      {blogData.academic.slice(0, 4).map(post => (
          <BlogCard 
            title={post.title}
            tag={post.tag}
            meta={post.meta}
            description={post.description}
            links={post.links}
          />
      ))}
      
      <div class="grid">
        {blogData.academic.slice(4).map(post => (
          <BlogCard 
            title={post.title}
            tag={post.tag}
            meta={post.meta}
            description={post.description}
            links={post.links}
          />
        ))}
      </div>
    </section>

    <!-- ===================== -->
    <!-- KATEGORI: TRÆNING -->
    <!-- ===================== -->
    <section class="cat" id="cat-traening" aria-label="Træning">
      <div class="cat-head">
        <h2 class="cat-title">Træning</h2>
        <p class="muted cat-subtitle">Rutiner, progression, og hvad der faktisk virker i praksis.</p>
      </div>

      <!-- FEATURED: Træningsstatistik -->
       {blogData.training.slice(0, 1).map(post => (
          <BlogCard 
            title={post.title}
            tag={post.tag}
            meta={post.meta}
            description={post.description}
            links={post.links}
          />
      ))}

      <div class="grid">
        {blogData.training.slice(1).map(post => (
          <BlogCard 
            title={post.title}
            tag={post.tag}
            meta={post.meta}
            description={post.description}
            links={post.links}
          />
        ))}
      </div>
    </section>

    <!-- ===================== -->
    <!-- KATEGORI: REJSER -->
    <!-- ===================== -->
    <section class="cat" id="cat-rejser" aria-label="Rejser">
      <div class="cat-head">
        <h2 class="cat-title">Rejser</h2>
        <p class="muted cat-subtitle">Vandring, ruter, planlægning og erfaringer fra turene.</p>
      </div>

    <!-- FEATURED: Rejsekort -->
    {blogData.travel.slice(0, 1).map(post => (
          <BlogCard 
            title={post.title}
            tag={post.tag}
            meta={post.meta}
            description={post.description}
            links={post.links}
          />
      ))}
      
      <div class="grid">
        {blogData.travel.slice(1).map(post => (
          <BlogCard 
            title={post.title}
            tag={post.tag}
            meta={post.meta}
            description={post.description}
            links={post.links}
          />
        ))}
      </div>
    </section>

    <!-- CTA -->
    <Section class="card" title="Forslag til indlæg?">
      <p class="muted">
        Hvis du har et emne, du gerne vil have mig til at skrive om, så skriv endelig.
      </p>
      <div class="cta">
        <a class="btn" href="mailto:anton.ebsen@gmail.com">Send en mail</a>
        <a class="btn ghost" href="/contact">Kontakt-side</a>
      </div>
    </Section>

  </main>
</Layout>
